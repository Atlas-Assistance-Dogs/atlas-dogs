- include_file: common.recipe.yml
- include_file: contact.recipe.yml

- object: ProgramAssignment__c
  fields:
      AssignedDate__c:
          date_between:
              start_date: 2015-01-01
              end_date: today
      CompletionDate__c:
          date_between:
              start_date: ${{date(AssignedDate__c)}}
              end_date: today
      Contact__c:
          reference: Person
      ExpectedCompletion__c:
          date_between:
              start_date: ${{date(AssignedDate__c)}}
              end_date: today
      Program__c:
          if:
              - choice:
                    when: ${{'Trainer' in Contact__c.Positions__c}}
                    pick:
                        random_choice:
                            reference: trainer_program
              - choice:
                    when: ${{'Client' in Contact__c.Positions__c}}
                    pick:
                        reference: client_program
              - choice:
                    when: ${{'Team Facilitator' in Contact__c.Positions__c}}
                    pick:
                        reference: facilitator_program
              - choice:
                    when: ${{'Team Facilitator Lead' in Contact__c.Positions__c}}
                    pick:
                        reference: facilitator_program
              - choice:
                    when: ${{'Staff' in Contact__c.Positions__c}}
                    pick:
                        reference: staff_program
              - choice:
                    pick:
                        reference: volunteer_program
      Status__c:
          random_choice:
              - In progress
              - Completed
              - Discontinued
              - Removed
